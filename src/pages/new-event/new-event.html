<!--
  Generated template for the NewEventPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar>
    <ion-buttons end>
      <button ion-button (click)="dismiss()">
        <!-- <span showWhen="ios">Cancel</span> -->
        <ion-icon name="md-close"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>New Event</ion-title>
  </ion-toolbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="eventForm" (ngSubmit)="submit()">
    <ion-item>
      <ion-label floating>
        Name:
      </ion-label>
      <ion-input type="text" formControlName="name">

      </ion-input>

    </ion-item>
    <ion-item>
      <ion-label>
        Due Date:
      </ion-label>
      <ion-datetime yearValues="2018,2019" minuteValues="0,15,30,45" displayFormat="DDD D MM YYYY hh:mm a" pickerFormat="D MM YYYY H mm"
        formControlName="duedate">

      </ion-datetime>

    </ion-item>
    <ion-item>
      <ion-label stacked>
        Fondita:
      </ion-label>
      <ion-toggle formControlName="fondita">

      </ion-toggle>

    </ion-item>
    <ion-item no-lines>
      <p>You can provide multiple values in the following inputs:</p>
    </ion-item>
    <ion-item [hidden]="!fondita">
      <ion-label stacked>
        Prices:
      </ion-label>
      <ion-textarea (blur)="getPrices()" formControlName="prices" rows="3" placeholder="Media, 40\nCompleta, 50" ng-trim="true">

      </ion-textarea>

    </ion-item>
    <ion-item class="errorMessage" no-lines *ngIf="!eventForm.controls.prices.valid  && eventForm.controls.prices.dirty">
      <p>Please enter a valid format. Example: media, 25</p>
    </ion-item>
    <ion-item [hidden]="!fondita">
      <ion-label stacked>
        Items:
      </ion-label>
      <ion-textarea (ionBlur)="getItems()" formControlName="items" rows="5" placeholder="Pechuga Empanizada\nPechuga a la plancha\nPoc Chuc">

      </ion-textarea>

    </ion-item>
    <ion-item [hidden]="fondita">
      <ion-label stacked>
        Items:
      </ion-label>
      <ion-textarea (ionBlur)="getItems()" formControlName="itemsFree" rows="5" placeholder="Torta Poc Chuc, 22\nTorta CamarÃ³n, 25">

      </ion-textarea>

    </ion-item>
    <ion-item class="errorMessage" no-lines *ngIf="!eventForm.controls.itemsFree.valid  && eventForm.controls.itemsFree.dirty">
      <p>Please enter a valid format. Example: Torta Poc Chuc, 20</p>
    </ion-item>
    <ion-item [hidden]="!fondita">
      <ion-label stacked>
        Complements:
      </ion-label>
      <ion-textarea formControlName="complements" rows="5" placeholder="Platanos Fritos\nArroz\nspaguetti">

      </ion-textarea>

    </ion-item>
    <ion-item [hidden]="!fondita">
      <ion-label stacked>
        Max. complements per orden:
      </ion-label>
      <ion-input type="number" [disabled]="eventForm.controls.maxCom.disabled" formControlName="maxCom">

      </ion-input>

    </ion-item>
    <ion-item class="errorMessage" no-lines *ngIf="!eventForm.controls.maxCom.valid && eventForm.controls.maxCom.enabled">
      <p>You need to provide a min of 1 and max of {{maxCom}} in max number of complements</p>
    </ion-item>
    <ion-item>
      <ion-label floating>
        Password:
      </ion-label>

      <ion-input type="password" formControlName="password">

      </ion-input>

    </ion-item>
    <ion-item no-lines>
      <button default item-end ion-button color="primary" [disabled]="!eventForm.valid">
        Create
      </button>
    </ion-item>
  </form>
</ion-content>